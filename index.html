<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Challenge Web App</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --bg:#0b0c10;--panel:#121318;--muted:#9aa0a6;--text:#e8eaed;--primary:#5b8cff;--border:#23252e;
  }
  body{margin:0;font-family:Arial,sans-serif;background:var(--bg);color:var(--text)}
  header{display:flex;justify-content:space-between;align-items:center;background:var(--panel);padding:10px 16px;border-bottom:1px solid var(--border)}
  .search{padding:8px;border-radius:6px;border:1px solid var(--border);background:#0f1116;color:var(--text)}
  .btn{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:#1a1c23;color:var(--text);cursor:pointer}
  .btn.primary{background:var(--primary);border:none;color:#fff}
  select{padding:8px;border-radius:8px;background:#0f1116;color:var(--text);border:1px solid var(--border)}
  .layout{display:grid;grid-template-columns:1fr 320px;gap:16px;padding:16px}
  .panel{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px}
  .sortbar{display:flex;gap:8px;margin-bottom:12px}
  .tab{padding:6px 10px;border-radius:8px;border:1px solid var(--border);background:#1a1c23;color:var(--text);cursor:pointer}
  .tab.active{background:var(--primary);border:none;color:#fff}
  .feed{display:grid;gap:12px}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:12px;padding:12px}
  .meta{font-size:14px;color:var(--muted);display:flex;gap:12px;flex-wrap:wrap}
  .desc{margin:8px 0;color:#cfd3d7}
  .actions{display:flex;gap:8px;flex-wrap:wrap}
  .vote{display:flex;align-items:center;gap:6px}
  .vote .count{min-width:28px;text-align:center;padding:2px 6px;border-radius:8px;background:#13151d;border:1px solid var(--border)}
  .leaderboard .row{display:flex;justify-content:space-between;padding:8px;border:1px solid var(--border);border-radius:8px;margin-top:6px;background:#0f1116}
</style>
</head>
<body>

<header>
  <input id="searchInput" class="search" placeholder="Search" />
  <div style="display:flex;gap:8px;align-items:center">
    <select id="languageSelect">
      <option value="en">English</option>
      <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
      <option value="hi">‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
      <option value="all">All</option>
    </select>
    <button class="btn primary" id="postBtn">Post Challenge</button>
  </div>
</header>

<div class="layout">
  <main>
    <div class="sortbar">
      <button class="tab active" data-sort="new">New</button>
      <button class="tab" data-sort="popular">Popular</button>
      <button class="tab" data-sort="endingSoon">Ending Soon</button>
    </div>
    <div class="feed" id="challengeFeed"></div>
  </main>

  <aside class="panel">
    <h3 id="interestTitle">Select Interests</h3>
    <select id="interestSelect" class="input">
      <option value="All">All</option>
      <option value="Education">Education</option>
      <option value="Entertainment">Entertainment</option>
      <option value="Mixed">Mixed</option>
    </select>
    <div style="margin-top:12px">
      <h3>Leaderboard</h3>
      <div id="leaderboard" class="leaderboard"></div>
    </div>
  </aside>
</div>

<script>
const challenges = [
  { title:'30-sec Science Fact', category:'Education', level:'Low', deadline:'2025-09-12', description:'Share a quick science fact.', votes:42, createdAt:'2025-09-10' },
  { title:'Kitchen Rhythm Beat', category:'Entertainment', level:'Medium', deadline:'2025-09-15', description:'Create a beat using kitchen items.', votes:90, createdAt:'2025-09-09' },
  { title:'Mini Portfolio Landing', category:'Mixed', level:'Hard', deadline:'2025-09-11', description:'Build a single-page portfolio.', votes:23, createdAt:'2025-09-11' }
];
const points = { 'Aisha': 12, 'Ravi': 18, 'You': 5 };
let currentSort = 'new';
let selectedInterest = 'All';
let searchQuery = '';

function renderLeaderboard(){
  const lb = document.getElementById('leaderboard');
  lb.innerHTML = '';
  Object.entries(points).sort((a,b)=>b[1]-a[1]).forEach(([user,pts],i)=>{
    const row = document.createElement('div');
    row.className='row';
    row.innerHTML = `<span>#${i+1} ${user}</span><strong>${pts} pts</strong>`;
    lb.appendChild(row);
  });
}

function renderFeed(){
  let list = challenges
    .filter(c => selectedInterest==='All' || c.category===selectedInterest)
    .filter(c => !searchQuery || c.title.toLowerCase().includes(searchQuery) || c.description.toLowerCase().includes(searchQuery));

  if(currentSort==='popular') list.sort((a,b)=>b.votes-a.votes);
  else if(currentSort==='endingSoon') list.sort((a,b)=> new Date(a.deadline)-new Date(b.deadline));
  else list.sort((a,b)=> new Date(b.createdAt)-new Date(a.createdAt));

  const feed = document.getElementById('challengeFeed');
  feed.innerHTML = '';
  list.forEach(c=>{
    const card = document.createElement('div');
    card.className='card';
    card.innerHTML = `
      <h3>${c.title}</h3>
      <div class="meta">
        <span><strong>Category:</strong> ${c.category}</span>
        <span><strong>Level:</strong> ${c.level}</span>
        <span><strong>Deadline:</strong> ${c.deadline}</span>
      </div>
      <p class="desc">${c.description}</p>
      <div class="actions">
        <div class="vote">
          <button class="btn" onclick="vote('${c.title}',1)">üëç</button>
          <span class="count">${c.votes}</span>
          <button class="btn" onclick="vote('${c.title}',-1)">üëé</button>
        </div>
      </div>
    `;
    feed.appendChild(card);
  });
}

function vote(title,delta){
  const ch = challenges.find(x=>x.title===title);
  if(!ch) return;
  ch.votes += delta;
  renderFeed();
}

document.getElementById('interestSelect').addEventListener('change', e=>{
  selectedInterest = e.target.value;
  renderFeed();
});
document.getElementById('searchInput').addEventListener('input', e=>{
  searchQuery = e.target.value.toLowerCase();
  renderFeed();
});
document.querySelectorAll('.tab').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.tab').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    currentSort = btn.dataset.sort;
    renderFeed();
  });
});

renderLeaderboard();
renderFeed();
</script>

</body>
</html>
