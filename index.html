<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Offline/Serverless App Catalog ‚Äì ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ UI</title>
  <style>
    :root{
      --bg:#0f172a; --card:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#22d3ee;
      --ok:#10b981; --warn:#f59e0b; --chip:#1f2937; --border:#243244;
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      background:linear-gradient(180deg,#0b1220 0%, #0f172a 100%); color:var(--text);
    }
    header{
      position:sticky; top:0; z-index:5; backdrop-filter: blur(8px);
      background:rgba(15,23,42,.7); border-bottom:1px solid var(--border);
    }
    .container{max-width:1200px; margin:0 auto; padding:16px}
    .topbar{
      display:flex; gap:12px; align-items:center; flex-wrap:wrap; justify-content:space-between;
    }
    .brand{display:flex; align-items:center; gap:10px}
    .badge{
      padding:4px 8px; border:1px solid var(--border); border-radius:999px; font-size:.8rem; color:var(--muted)
    }
    .pill{
      background:var(--chip); border:1px solid var(--border); color:var(--text);
      padding:10px 12px; border-radius:10px; display:flex; gap:8px; align-items:center;
    }
    input, select{
      background:var(--chip); border:1px solid var(--border); color:var(--text);
      padding:10px 12px; border-radius:10px; outline:none;
    }
    .layout{display:grid; grid-template-columns:260px 1fr; gap:16px; margin-top:12px}
    @media (max-width: 900px){ .layout{grid-template-columns:1fr} }
    aside{
      background:var(--card); border:1px solid var(--border); border-radius:14px; padding:14px;
    }
    aside h3{margin:4px 0 10px 0; font-size:1.05rem; color:#cbd5e1}
    .list{display:flex; flex-direction:column; gap:8px; margin:0; padding:0; list-style:none}
    .list button{
      width:100%; text-align:left; background:transparent; color:var(--text);
      border:1px solid var(--border); border-radius:10px; padding:10px; cursor:pointer;
    }
    .list button.active{border-color:var(--accent); box-shadow:0 0 0 2px rgba(34,211,238,.2)}
    main .controls{display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px}
    .cards{display:grid; grid-template-columns:repeat(3,1fr); gap:14px}
    @media (max-width:1100px){ .cards{grid-template-columns:repeat(2,1fr)} }
    @media (max-width:680px){ .cards{grid-template-columns:1fr} }
    .card{
      background:linear-gradient(180deg,#0f172a 0%, #0d1b2a 100%);
      border:1px solid var(--border); border-radius:14px; padding:14px; display:flex; gap:12px;
    }
    .icon{
      width:56px; height:56px; border-radius:12px; display:grid; place-items:center;
      background:#0b1220; border:1px solid var(--border); font-weight:700; color:var(--accent)
    }
    .meta{display:flex; align-items:center; gap:8px; flex-wrap:wrap; margin:6px 0}
    .chip{
      padding:4px 8px; border-radius:999px; background:#0b1220; border:1px solid var(--border);
      font-size:.78rem; color:#cbd5e1;
    }
    .money{color:#a7f3d0}
    .warn{color:#fde68a}
    .muted{color:var(--muted)}
    .row{display:flex; gap:12px; flex-wrap:wrap; margin-top:8px}
    .row .stat{
      flex:1 1 160px; background:#0b1220; border:1px solid var(--border); border-radius:10px; padding:10px;
    }
    .stat b{display:block; font-size:.8rem; color:#cbd5e1; margin-bottom:4px}
    .no-results{
      padding:24px; text-align:center; border:1px dashed var(--border); border-radius:14px; color:var(--muted)
    }
    footer{color:var(--muted); text-align:center; padding:18px}
    a.link{color:var(--accent); text-decoration:none}
  </style>
</head>
<body>
  <header>
    <div class="container topbar">
      <div class="brand">
        <div class="icon">OFF</div>
        <div>
          <div style="font-weight:700; letter-spacing:.2px">Serverless App Catalog</div>
          <div class="badge">Pure offline ‚Ä¢ No backend ‚Ä¢ Bengali UI, English names</div>
        </div>
      </div>
      <div class="pill">
        üîé <input id="search" type="text" placeholder="‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶ï‡¶∞‡ßÅ‡¶® (‡¶®‡¶æ‡¶Æ/‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø)..." />
      </div>
      <div class="pill">
        ‚ÜïÔ∏è
        <select id="sort">
          <option value="downloadsDesc">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶§‡¶æ: ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶¨‡ßá‡¶∂‡¶ø ‚Üí ‡¶ï‡¶Æ</option>
          <option value="ratingDesc">‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç: ‡¶¨‡ßá‡¶∂‡¶ø ‚Üí ‡¶ï‡¶Æ</option>
          <option value="earningIntlDesc">‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶ú‡¶æ‡¶§‡¶ø‡¶ï ‡¶Ü‡¶Ø‡¶º: ‡¶¨‡ßá‡¶∂‡¶ø ‚Üí ‡¶ï‡¶Æ</option>
          <option value="earningInDesc">‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º ‡¶Ü‡¶Ø‡¶º: ‡¶¨‡ßá‡¶∂‡¶ø ‚Üí ‡¶ï‡¶Æ</option>
          <option value="nameAsc">‡¶®‡¶æ‡¶Æ: A ‚Üí Z</option>
        </select>
      </div>
    </div>
  </header>

  <div class="container layout">
    <aside>
      <h3>‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø</h3>
      <ul class="list" id="categoryList">
        <!-- Filled by JS -->
      </ul>
      <h3>‡¶∏‡¶æ‡¶¨-‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø</h3>
      <ul class="list" id="subcategoryList">
        <!-- Filled by JS -->
      </ul>
      <h3>‡¶¶‡ßá‡¶ñ‡¶æ‡¶®</h3>
      <ul class="list">
        <li><button id="onlyOffline" class="">‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®/‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶õ‡¶æ‡¶°‡¶º‡¶æ</button></li>
      </ul>
      <p class="muted" style="margin-top:10px">
        ‡¶ü‡¶ø‡¶™‡¶∏: ‚Äú‡¶ó‡ßá‡¶Æ‚Äù ‚Üí ‚ÄúPuzzle‚Äù ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡¶æ‡¶ú‡¶≤ ‡¶ó‡ßá‡¶Æ‡¶ó‡ßÅ‡¶≤‡ßã ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶Ø‡¶æ‡¶¨‡ßá‡•§ ‡¶∏‡¶æ‡¶∞‡ßç‡¶ö ‡¶¨‡¶ï‡ßç‡¶∏‡ßá ‚ÄúBengali‚Äù ‡¶¨‡¶æ ‚Äúrunner‚Äù ‡¶≤‡¶ø‡¶ñ‡ßá‡¶ì ‡¶ñ‡ßÅ‡¶Å‡¶ú‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§
      </p>
    </aside>

    <main>
      <div class="controls">
        <span class="badge">‡¶π‡ßã‡¶Æ: ‡¶∏‡¶¨ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™</span>
        <span class="badge">‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º ‡¶Ü‡¶ó‡ßá</span>
      </div>
      <section id="cards" class="cards"></section>
      <div id="noResults" class="no-results" style="display:none">‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶ø‡¶≤‡ßç‡¶ü‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø‡•§</div>
    </main>
  </div>

  <footer>
    ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶á ‡¶°‡ßá‡¶Æ‡ßã ‡¶°‡ßá‡¶ü‡¶æ‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡¶ó‡ßÅ‡¶≤‡ßã ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶§‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ JS ‡¶Ö‡¶¨‡¶ú‡ßá‡¶ï‡ßç‡¶ü‡ßá ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶¨‡¶æ‡¶°‡¶º‡¶æ‡¶®‡•§ ¬∑ Built for offline browsing.
  </footer>

  <script>
    // ---------- Demo dataset (Edit/extend this list) ----------
    const APPS = [
      // Hyper-casual (Game)
      {
        name: "One Finger River Cross",
        bnDesc: "‡¶è‡¶ï ‡¶Ü‡¶ô‡ßÅ‡¶≤‡ßá ‡¶®‡ßå‡¶ï‡¶æ ‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡ßç‡¶∞‡ßã‡¶§ ‡¶ì ‡¶¨‡¶æ‡¶ß‡¶æ ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶ó‡¶®‡ßç‡¶§‡¶¨‡ßç‡¶Ø‡ßá ‡¶™‡ßå‡¶Å‡¶õ‡¶æ‡¶®‡•§ ‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡•§",
        category: "Game",
        subcategory: "Hyper-casual",
        offline: true,
        earningInMin: 125000, earningInMax: 375000,      // India/month
        earningIntlMin: 1000000, earningIntlMax: 2000000,// Intl/month
        rating: 4.4, downloads: 1200000
      },
      {
        name: "Stack & Smash",
        bnDesc: "‡¶¨‡ßç‡¶≤‡¶ï ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶∏‡¶†‡¶ø‡¶ï ‡¶∏‡¶Æ‡¶Ø‡¶º‡ßá ‡¶≠‡¶æ‡¶ô‡ßÅ‡¶®‡•§ ‡ß©‡ß¶-‡ß¨‡ß¶ ‡¶∏‡ßá‡¶ï‡ßá‡¶®‡ßç‡¶°‡ßá‡¶∞ ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶™‡ßç‡¶≤‡ßá‡•§",
        category: "Game",
        subcategory: "Hyper-casual",
        offline: true,
        earningInMin: 110000, earningInMax: 330000,
        earningIntlMin: 850000, earningIntlMax: 1700000,
        rating: 4.2, downloads: 820000
      },
      {
        name: "Color Switcher",
        bnDesc: "‡¶∞‡¶ô ‡¶Æ‡¶ø‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶æ‡¶ß‡¶æ ‡¶™‡¶æ‡¶∞ ‡¶π‡¶®‡•§ ‡¶è‡¶ï ‡¶ü‡ßç‡¶Ø‡¶æ‡¶™‡ßá ‡¶∏‡¶π‡¶ú ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤‡•§",
        category: "Game",
        subcategory: "Hyper-casual",
        offline: true,
        earningInMin: 90000, earningInMax: 270000,
        earningIntlMin: 700000, earningIntlMax: 1400000,
        rating: 4.1, downloads: 650000
      },

      // Puzzle (Game)
      {
        name: "Alpona Logic",
        bnDesc: "‡¶®‡¶®‡ßã‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤‚Äî‡¶Ü‡¶≤‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∞‡ßç‡¶® ‡¶≠‡¶∞‡ßÅ‡¶®‡•§ ‡¶≤‡¶ú‡¶ø‡¶ï ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
        category: "Game",
        subcategory: "Puzzle",
        offline: true,
        earningInMin: 125000, earningInMax: 375000,
        earningIntlMin: 1000000, earningIntlMax: 2000000,
        rating: 4.6, downloads: 980000
      },
      {
        name: "Pipe Connect",
        bnDesc: "‡¶™‡¶æ‡¶á‡¶™ ‡¶ò‡ßÅ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶™‡¶æ‡¶®‡¶ø‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶™‡¶• ‡¶¨‡¶æ‡¶®‡¶æ‡¶®‡•§ ‡¶∏‡ßç‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®‡•§",
        category: "Game",
        subcategory: "Puzzle",
        offline: true,
        earningInMin: 100000, earningInMax: 300000,
        earningIntlMin: 800000, earningIntlMax: 1600000,
        rating: 4.5, downloads: 760000
      },
      {
        name: "Shadow Match",
        bnDesc: "‡¶¨‡¶∏‡ßç‡¶§‡ßÅ ‡¶ò‡ßÅ‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶õ‡¶æ‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Ü‡¶ï‡¶æ‡¶∞ ‡¶Æ‡¶ø‡¶≤‡¶æ‡¶®‡•§ ‡¶ß‡¶æ‡¶™‡ßá ‡¶ß‡¶æ‡¶™‡ßá ‡¶ï‡¶†‡¶ø‡¶® ‡¶π‡¶¨‡ßá‡•§",
        category: "Game",
        subcategory: "Puzzle",
        offline: true,
        earningInMin: 95000, earningInMax: 285000,
        earningIntlMin: 780000, earningIntlMax: 1500000,
        rating: 4.3, downloads: 540000
      },
      {
        name: "Slide & Deliver",
        bnDesc: "‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶ø‡¶Ç ‡¶ü‡¶æ‡¶á‡¶≤ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶Æ‡¶æ‡¶≤‡¶æ‡¶Æ‡¶æ‡¶≤ ‡¶†‡¶ø‡¶ï ‡¶ò‡¶æ‡¶ü‡ßá ‡¶™‡ßå‡¶Å‡¶õ‡¶æ‡¶®‡•§ ‡¶Æ‡ßÅ‡¶≠ ‡¶∏‡ßÄ‡¶Æ‡¶ø‡¶§‚Äî‡¶≠‡¶æ‡¶¨‡¶®‡¶æ ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø‡•§",
        category: "Game",
        subcategory: "Puzzle",
        offline: true,
        earningInMin: 90000, earningInMax: 260000,
        earningIntlMin: 700000, earningIntlMax: 1400000,
        rating: 4.2, downloads: 430000
      },

      // Recipe (Non-game)
      {
        name: "Bengali Rasoi",
        bnDesc: "‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶∞‡ßá‡¶∏‡¶ø‡¶™‡¶ø‡¶∞ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶® ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶®‚Äî‡¶°‡¶æ‡¶≤, ‡¶Æ‡¶æ‡¶õ, ‡¶≠‡¶æ‡¶ú‡¶æ, ‡¶™‡¶ø‡¶†‡ßá-‡¶™‡ßÅ‡¶≤‡¶ø‡•§ ‡¶õ‡¶¨‡¶ø ‡¶õ‡¶æ‡¶°‡¶º‡¶æ‡¶á ‡¶π‡¶æ‡¶≤‡¶ï‡¶æ‡•§",
        category: "Non-game",
        subcategory: "Recipe",
        offline: true,
        earningInMin: 125000, earningInMax: 375000,
        earningIntlMin: 1000000, earningIntlMax: 2000000,
        rating: 4.7, downloads: 1500000
      },
      {
        name: "Quick 15-min Recipes",
        bnDesc: "‡ßß‡ß´ ‡¶Æ‡¶ø‡¶®‡¶ø‡¶ü‡ßá ‡¶§‡ßà‡¶∞‡¶ø ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶∞‡ßá‡¶∏‡¶ø‡¶™‡¶ø‚Äî‡¶∏‡ßç‡¶ü‡ßÅ‡¶°‡ßá‡¶®‡ßç‡¶ü ‡¶ì ‡¶¨‡ßç‡¶Ø‡¶∏‡ßç‡¶§‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶™‡¶Ø‡ßã‡¶ó‡ßÄ‡•§",
        category: "Non-game",
        subcategory: "Recipe",
        offline: true,
        earningInMin: 90000, earningInMax: 270000,
        earningIntlMin: 700000, earningIntlMax: 1400000,
        rating: 4.4, downloads: 870000
      },
      {
        name: "Festival Special Recipes",
        bnDesc: "‡¶™‡ßÇ‡¶ú‡¶æ/‡¶à‡¶¶/‡¶¨‡¶°‡¶º‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶∏‡ßç‡¶™‡ßá‡¶∂‡¶æ‡¶≤ ‡¶∞‡ßá‡¶∏‡¶ø‡¶™‡¶ø‚Äî‡¶∏‡¶ø‡¶ú‡¶®‡¶æ‡¶≤ ‡¶ï‡¶æ‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®‡ßá‡•§",
        category: "Non-game",
        subcategory: "Recipe",
        offline: true,
        earningInMin: 100000, earningInMax: 300000,
        earningIntlMin: 800000, earningIntlMax: 1600000,
        rating: 4.5, downloads: 930000
      },
      {
        name: "Kids Lunchbox Ideas",
        bnDesc: "‡¶¨‡¶æ‡¶ö‡ßç‡¶ö‡¶æ‡¶¶‡ßá‡¶∞ ‡¶≤‡¶æ‡¶û‡ßç‡¶ö‡¶¨‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶ï‡¶∞ ‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶® ‡¶Ü‡¶á‡¶°‡¶ø‡¶Ø‡¶º‡¶æ‚Äî‡¶∏‡¶π‡¶ú ‡¶â‡¶™‡¶ï‡¶∞‡¶£‡ßá‡•§",
        category: "Non-game",
        subcategory: "Recipe",
        offline: true,
        earningInMin: 80000, earningInMax: 220000,
        earningIntlMin: 600000, earningIntlMax: 1200000,
        rating: 4.3, downloads: 520000
      }
    ];

    // ---------- State ----------
    const state = {
      category: "All",
      subcategory: "All",
      onlyOffline: true,
      search: "",
      sort: "downloadsDesc"
    };

    // ---------- Build category/subcategory lists ----------
    function unique(arr){ return Array.from(new Set(arr)); }
    const categories = ["All", ...unique(APPS.map(a => a.category))];
    const subcategoriesAll = ["All", ...unique(APPS.map(a => a.subcategory))];

    function renderFilters(){
      const catEl = document.getElementById("categoryList");
      const subEl = document.getElementById("subcategoryList");
      catEl.innerHTML = "";
      subEl.innerHTML = "";

      categories.forEach(cat=>{
        const btn = document.createElement("button");
        btn.textContent = cat === "All" ? "‡¶∏‡¶¨" : cat === "Game" ? "‡¶ó‡ßá‡¶Æ" : "‡¶®‡¶®-‡¶ó‡ßá‡¶Æ";
        if(state.category === cat) btn.classList.add("active");
        btn.onclick = ()=>{ state.category = cat; render(); };
        const li = document.createElement("li"); li.appendChild(btn); catEl.appendChild(li);
      });

      // Subcategories depend on selected category
      const subs = state.category==="All"
        ? subcategoriesAll
        : ["All", ...unique(APPS.filter(a=>a.category===state.category).map(a=>a.subcategory))];

      subs.forEach(sc=>{
        const btn = document.createElement("button");
        btn.textContent = sc==="All" ? "‡¶∏‡¶¨" : sc;
        if(state.subcategory === sc) btn.classList.add("active");
        btn.onclick = ()=>{ state.subcategory = sc; render(); };
        const li = document.createElement("li"); li.appendChild(btn); subEl.appendChild(li);
      });

      const onlyOfflineBtn = document.getElementById("onlyOffline");
      onlyOfflineBtn.classList.toggle("active", state.onlyOffline);
      onlyOfflineBtn.onclick = ()=>{ state.onlyOffline = !state.onlyOffline; render(); };

      document.getElementById("search").value = state.search;
      document.getElementById("sort").value = state.sort;
    }

    // ---------- Filtering, sorting, rendering ----------
    function formatMoney(n){
      // show in ‚Çπ with commas
      return "‚Çπ" + n.toLocaleString("en-IN");
    }
    function star(r){
      const full = "‚òÖ".repeat(Math.floor(r));
      const empty = "‚òÜ".repeat(5 - Math.floor(r));
      return full + empty;
    }

    function applyFilters(){
      let list = APPS.slice();

      if(state.category !== "All"){
        list = list.filter(a => a.category === state.category);
      }
      if(state.subcategory !== "All"){
        list = list.filter(a => a.subcategory === state.subcategory);
      }
      if(state.onlyOffline){
        list = list.filter(a => a.offline);
      }
      if(state.search.trim()){
        const q = state.search.toLowerCase();
        list = list.filter(a =>
          a.name.toLowerCase().includes(q) ||
          a.category.toLowerCase().includes(q) ||
          a.subcategory.toLowerCase().includes(q) ||
          a.bnDesc.toLowerCase().includes(q)
        );
      }

      switch(state.sort){
        case "downloadsDesc": list.sort((a,b)=> b.downloads - a.downloads); break;
        case "ratingDesc": list.sort((a,b)=> b.rating - a.rating); break;
        case "earningIntlDesc": list.sort((a,b)=> (b.earningIntlMax||0) - (a.earningIntlMax||0)); break;
        case "earningInDesc": list.sort((a,b)=> (b.earningInMax||0) - (a.earningInMax||0)); break;
        case "nameAsc": list.sort((a,b)=> a.name.localeCompare(b.name)); break;
      }
      return list;
    }

    function renderCards(items){
      const wrap = document.getElementById("cards");
      const empty = document.getElementById("noResults");
      wrap.innerHTML = "";
      if(items.length===0){ empty.style.display="block"; return; }
      empty.style.display="none";

      items.forEach(app=>{
        const el = document.createElement("article");
        el.className = "card";
        el.innerHTML = `
          <div class="icon">${app.category==="Game"?"G":"R"}</div>
          <div style="flex:1">
            <div style="display:flex; justify-content:space-between; gap:8px; align-items:flex-start">
              <div>
                <div style="font-weight:700; font-size:1.05rem">${app.name}</div>
                <div class="muted" style="margin-top:2px">${app.bnDesc}</div>
                <div class="meta">
                  <span class="chip">‡¶ï‡ßç‡¶Ø‡¶æ‡¶ü‡ßá‡¶ó‡¶∞‡¶ø: ${app.category==="Game"?"‡¶ó‡ßá‡¶Æ":"‡¶®‡¶®-‡¶ó‡ßá‡¶Æ"}</span>
                  <span class="chip">‡¶ü‡¶æ‡¶á‡¶™: ${app.subcategory}</span>
                  <span class="chip">${app.offline ? "‡¶Ö‡¶´‡¶≤‡¶æ‡¶á‡¶®/‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡¶õ‡¶æ‡¶°‡¶º‡¶æ" : "‡¶Ö‡¶®‡¶≤‡¶æ‡¶á‡¶®"}</span>
                </div>
              </div>
            </div>

            <div class="row">
              <div class="stat">
                <b>‡¶≠‡¶æ‡¶∞‡¶§‡ßÄ‡¶Ø‡¶º ‡¶Ü‡¶Ø‡¶º (‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï)</b>
                <div class="money">${formatMoney(app.earningInMin)} ‚Äì ${formatMoney(app.earningInMax)}</div>
              </div>
              <div class="stat">
                <b>‡¶Ü‡¶®‡ßç‡¶§‡¶∞‡ßç‡¶ú‡¶æ‡¶§‡¶ø‡¶ï ‡¶Ü‡¶Ø‡¶º (‡¶Æ‡¶æ‡¶∏‡¶ø‡¶ï)</b>
                <div class="money">${formatMoney(app.earningIntlMin)} ‚Äì ${formatMoney(app.earningIntlMax)}</div>
              </div>
              <div class="stat">
                <b>‡¶∞‡ßá‡¶ü‡¶ø‡¶Ç</b>
                <div>${star(app.rating)} <span class="muted">(${app.rating.toFixed(1)})</span></div>
              </div>
              <div class="stat">
                <b>‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</b>
                <div class="warn">${app.downloads.toLocaleString("en-IN")}</div>
              </div>
            </div>
          </div>
        `;
        wrap.appendChild(el);
      });
    }

    function render(){
      renderFilters();
      const items = applyFilters();
      renderCards(items);
    }

    // ---------- Events ----------
    document.getElementById("search").addEventListener("input", (e)=>{
      state.search = e.target.value;
      render();
    });
    document.getElementById("sort").addEventListener("change", (e)=>{
      state.sort = e.target.value;
      render();
    });

    // ---------- Init ----------
    render();
  </script>
</body>
</html>
